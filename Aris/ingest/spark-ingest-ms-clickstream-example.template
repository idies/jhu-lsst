#! /bin/sh

# jvv: submit job from https://docs.microsoft.com/en-us/sql/big-data-cluster/tutorial-data-pool-ingest-spark?view=sqlallproducts-allversions
/spark/bin/spark-submit '--deploy-mode' 'cluster' '--name' 'ms web_clickstreams_spark_results example' '--class' 'FileStreaming' --executor-cores 1 --num-executors 4 --executor-memory 12g '--conf' 'spark.yarn.submit.waitAppCompletion=false' '--conf' 'spark.submit.deployMode=cluster' '--conf' 'spark.master=yarn' 'hdfs:///jar/mssql-spark-lib-assembly-1.0.jar' '--server' 'mssql-master-pool-0.service-master-pool' '--port' '1433' '--user' 'sa' '--password' 'REDACTED' '--database' 'sales' '--table' 'web_clickstreams_spark_results ' '--source_dir' 'hdfs:///clickstream_data' '--input_format' 'csv' '--enable_checkpoint' 'false' '--timeout' '38000000'
